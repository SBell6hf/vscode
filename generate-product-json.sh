#!/bin/sh
curl -L 'https://github.com/gitpod-io/openvscode-server/raw/main/product.json' | node -e 'const fs = require("fs"); const productA = JSON.parse(fs.readFileSync(process.argv[2]).toString()); const package = JSON.parse(fs.readFileSync(process.argv[1]).toString()); const productB = JSON.parse(fs.readFileSync(process.argv[3]).toString()); let productC = {}; try { productC = JSON.parse(fs.readFileSync(process.argv[4]).toString()); } catch (error) {} console.log(JSON.stringify({...productA, version: package.version, ...productB, ...productC}, null, "\t"));' "$(dirname "$0")/package.json" /dev/stdin "$(dirname "$0")/product-c.json" "$(dirname "$0")/product-e.json" >"$(dirname "$0")/product.json"
